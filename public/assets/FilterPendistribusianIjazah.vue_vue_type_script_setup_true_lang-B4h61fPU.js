import{h as c}from"./axios.plugin-jarxPOek.js";import{b as y,F as x}from"./FileSaver.min-WoT5WcSn.js";import{m as w,d as v,r as p,o as F,A as _,c as o,i as u,b as s,p as j,u as m,$ as k,F as T,E as z,t as A}from"./index-DTIYWmHx.js";import{g as E}from"./global.service-LFMrUILG.js";const N=async e=>{try{return await c.get("/pendistribusian-ijazah",{params:e})}catch(a){throw console.error("Error caught in catch:",a),a.response}},R=async(e,a)=>{try{const t=await c.get(`/pendistribusian-ijazah/download/${e}`,{responseType:"arraybuffer"}),d=`data:${t.headers["content-type"]};base64,${new y.Buffer(t.data,"binary").toString("base64")}`;x.saveAs(d,a)}catch(t){throw console.error("Error caught in catch:",t),t.response}},U=async e=>{try{await c.delete(`/pendistribusian-ijazah/${e}`)}catch(a){throw console.error("Error caught in catch:",a),a.response}},q=async(e,a)=>{try{await c.post(`/pendistribusian-ijazah/update-file/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error("Error caught in catch:",t),t.response}},S=w("FilterAdminPendistribusianIjazah",{state:()=>({search:"",tahun:null,tahunList:[]}),actions:{setSearch(e){this.search=e},setTahun(e){this.tahun=e},setTahunList(e){this.tahunList=e},resetFilter(){this.search="",this.tahun=null}}}),I={class:"bg-white p-6 rounded-lg shadow-md mx-auto"},L={class:"mb-6 flex items-center"},P={class:"w-3/4 relative"},$={key:0,type:"text",id:"tahun",placeholder:"Tidak ada data tahun",disabled:"",class:"block w-full disabled:cursor-not-allowed disabled:opacity-50 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2"},D=["value"],G=v({__name:"FilterPendistribusianIjazah",emits:["submit"],setup(e,{emit:a}){const t=S(),d=p(""),n=p(null);F(async()=>{await b(),t.tahun!==null&&(n.value=t.tahun,await _(),h())});const b=async()=>{try{const l=await E();t.setTahunList(l.data.data)}catch(l){console.log(l)}},f=a,g=()=>{d.value="",n.value=null,t.resetFilter()},h=()=>{t.setSearch(d.value),t.setTahun(n.value),f("submit",!0)};return(l,r)=>(u(),o("div",I,[r[2]||(r[2]=s("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Filter Data",-1)),s("div",null,[s("div",L,[r[1]||(r[1]=s("label",{for:"tahun",class:"w-1/4 text-sm font-medium text-gray-700 pr-4"},"Tahun",-1)),s("div",P,[m(t).tahunList.length==0?(u(),o("input",$)):j((u(),o("select",{key:1,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value=i),id:"tahun",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2"},[(u(!0),o(T,null,z(m(t).tahunList,i=>(u(),o("option",{key:i.id,value:i.id},A(i.tahun),9,D))),128))],512)),[[k,n.value]])])]),s("div",{class:"flex justify-end space-x-2"},[s("button",{onClick:g,type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"}," Reset "),s("button",{onClick:h,type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"}," Terapkan Filter ")])])]))}});export{G as _,R as a,q as b,U as d,N as g,S as u};
